<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Documents</title>
</head>
<style>
    h1 {
        font-family:'Noto Sans';
        margin-top: 10px;
        font-size: 42px;
        text-align: center;
        color: #A50C0C;
        font-weight: bold;
      }
    th {
        font-family: 'Noto Sans';
        font-size: 24px;
        text-align: center;
        font-weight: bold;
        color: #A50C0C;
        border-width: 2px;
        
        
    }
    tr{
        width: 1000px;
    }
    td {
        font-family: 'Noto Sans';
        font-size: 21px;
        text-align: center;
        border-width: 2px;
    }
    table {
        border-collapse: collapse;
        margin-left: auto;
        margin-right: auto;
    }
    .tnum {
        width: 200px;
    }
    .tname {
        width: 300px;
    }
    .tcode {
        width: 300px;
    }
</style>

<body>
    <h1>UVRC - ALLIANCE TAB - EDIT PO TEAMS</h1>
    <table border="white" id="mytable">
      <tr>
        <th class="tnum">#</th>
        <th class="tname">TEAM Name</th>
        <th class="tcode">TEAM Code</th>
        <th>Save</th>
      </tr>
      <tr>
        <td>
          Alliance 1
        </td>
        <form action="http://localhost:3000/poteams/0" id="form1">
          <td>
            <label for="team1">
              <input type="text" name="team1" id="team1">
            </label>
          </td>
          <td>
            <label for="team2">
              <input type="text" name="team2" id="team2">
            </label>
          </td>
          <td>
            <input type="submit" value="Save A1">
          </td>
        </form>
      </tr>

      <tr>
        <td>
          Alliance 2
        </td>
        <form action="http://localhost:3000/poteams/1" id="form2">
          <td>
            <label for="team1">
              <input type="text" name="team1" id="team1">
            </label>
          </td>
          <td>
            <label for="team2">
              <input type="text" name="team2" id="team2">
            </label>
          </td>
          <td>
            <input type="submit" value="Save A2">
          </td>
        </form>
      </tr>
      <tr>
        <td>
          Alliance 3
        </td>
        <form action="http://localhost:3000/poteams/2" id="form3">
          <td>
            <label for="team1">
              <input type="text" name="team1" id="team1">
            </label>
          </td>
          <td>
            <label for="team2">
              <input type="text" name="team2" id="team2">
            </label>
          </td>
          <td>
            <input type="submit" value="Save A3">
          </td>
        </form>
      </tr>
      <tr>
        <td>
          Alliance 4
        </td>
        <form action="http://localhost:3000/poteams/1" id="4">
          <td>
            <label for="team1">
              <input type="text" name="team1" id="team1">
            </label>
          </td>
          <td>
            <label for="team2">
              <input type="text" name="team2" id="team2">
            </label>
          </td>
          <td>
            <input type="submit" value="Save A4">
          </td>
        </form>
      </tr>
      <tr>
        <td>
          Alliance 5
        </td>
        <form action="http://localhost:3000/poteams/1" id="form5">
          <td>
            <label for="team1">
              <input type="text" name="team1" id="team1">
            </label>
          </td>
          <td>
            <label for="team2">
              <input type="text" name="team2" id="team2">
            </label>
          </td>
          <td>
            <input type="submit" value="Save A5">
          </td>
        </form>
      </tr>
      <tr>
        <td>
          Alliance 6
        </td>
        <form action="http://localhost:3000/poteams/1" id="form6">
          <td>
            <label for="team1">
              <input type="text" name="team1" id="team1">
            </label>
          </td>
          <td>
            <label for="team2">
              <input type="text" name="team2" id="team2">
            </label>
          </td>
          <td>
            <input type="submit" value="Save A6">
          </td>
        </form>
      </tr>
      <tr>
        <td>
          Alliance 7
        </td>
        <form action="http://localhost:3000/poteams/1" id="form7">
          <td>
            <label for="team1">
              <input type="text" name="team1" id="team1">
            </label>
          </td>
          <td>
            <label for="team2">
              <input type="text" name="team2" id="team2">
            </label>
          </td>
          <td>
            <input type="submit" value="Save A7">
          </td>
        </form>
      </tr>
      <tr>
        <td>
          Alliance 8
        </td>
        <form action="http://localhost:3000/poteams/1" id="form8">
          <td>
            <label for="team1">
              <input type="text" name="team1" id="team1">
            </label>
          </td>
          <td>
            <label for="team2">
              <input type="text" name="team2" id="team2">
            </label>
          </td>
          <td>
            <input type="submit" value="Save A8">
          </td>
        </form>
      </tr>
</table>
 
<script>
  async function postFormDataAsJson({ url, formData }) {
    const plainFormData = Object.fromEntries(formData.entries());
    const formDataJsonString = JSON.stringify(plainFormData);
  
    const fetchOptions = {
      method: "PATCH",
      headers: {
        "Content-Type": "application/json",
        Accept: "application/json",
      },
      body: formDataJsonString,
    };
  
    const response = await fetch(url, fetchOptions);
  
    if (!response.ok) {
      const errorMessage = await response.text();
      throw new Error(errorMessage);
    }
  
    return response.json();
  }

  async function handleFormSubmit(event) {
    event.preventDefault();
  
    const form = event.currentTarget;
    const url = form.action;
  
    try {
      const formData = new FormData(form);
      const responseData = await postFormDataAsJson({ url, formData });
  
      console.log({ responseData });
    } catch (error) {
      console.error(error);
    }
  }
  
  const Form1 = document.getElementById("form1");
  Form1.addEventListener("submit", handleFormSubmit);
  const Form2 = document.getElementById("form2");
  Form2.addEventListener("submit", handleFormSubmit);
  const Form3 = document.getElementById("form3");
  Form3.addEventListener("submit", handleFormSubmit);
  const Form4 = document.getElementById("form4");   
  Form4.addEventListener("submit", handleFormSubmit);
  const Form5 = document.getElementById("form5");
  Form5.addEventListener("submit", handleFormSubmit);
  const Form6 = document.getElementById("form6");
  Form6.addEventListener("submit", handleFormSubmit);
  const Form7 = document.getElementById("form7");
  Form7.addEventListener("submit", handleFormSubmit);
  const Form8 = document.getElementById("form8");
  Form8.addEventListener("submit", handleFormSubmit);
  

</script>

</body>
</html>
